<!-- TODO: Remove disclaimer after techtraining -->
<!-- *ngIf='service.endpoints != undefined && (service.serviceType=="website" || service.serviceType=="api")' -->
<div class='feedback-overlay' *ngIf="openModal">
    <div class='feedback-wrap relative'>
        <div class='feedback-hdr relative'>Report an issue</div>
        <div class="separator-row"></div>
        <div class="loading-row" [class.show]="isLoading">
            <div class="loading-circle"></div>
        </div>
            <div class='feedback-text-wrap' [class.invisible]="isLoading || feedbackRes">
                <p>Found a problem with the site? Please use the form below to describe the issue and we will fix it soon.</p>
                <textarea rows="5" cols="50" type="text" name='userFeedback' id="userFeedback" placeholder="Report your issue here" [(ngModel)]="model.userFeedback"  #userFeedback='ngModel'></textarea>
            </div>
            <div class="feedback-text-wrap feedbackRes" [class.show]="feedbackRes">
                <div class="hide feedbackResSuccess" [class.show]="feedbackResSuccess">
                    <div>{{feedbackMsg}}</div>
                </div>
                <div class="hide feedbackResErr" [class.show]="feedbackResErr"> Oops! {{feedbackMsg}}
                    <span> or <a (click)="mailTo()"> contact us</a> via email.</span>
                </div>
            </div>
            <div class='feedback-btn-wrap'>
               
                <div class="slack-checkbox custom-cb includeError" [class.invisible]="isLoading || feedbackRes">
                        <input type="checkbox" (click)="errorIncluded()"  id="checkbox-slack" [checked]="errorInclude">
                        <label for="checkbox-slack"></label>
                        <div class="cb-status-dets">Include error details</div>
                    </div>
                <a (click)='openModal = !openModal;isLoading=false'  [class.invisible]="isLoading || feedbackRes">CANCEL</a>
                <btn-tmobile-primary text="{{buttonText}}" class="feedback-submit" [class.invisible]="isLoading" [disablePrimaryBtn]="!model.userFeedback && buttonText=='SUBMIT'" (click)='submitFeedback(buttonText)'></btn-tmobile-primary>
            </div> 
    </div>    
</div>



<div class='service-details row bottom-10' *ngIf='environmnt.endpoint != undefined' >
    <ul class=" col-md-12 col-sm-12">
        <li class='det-wrp' >
                <!-- *ngIf='service.endpoints.dev != undefined' -->
            <div class=' det-label align-slf'> <span class='caps'>Endpoint </span></div>
            <div class='det-value endpoint-url align-slf'>
                <div class="popupcopy" (mouseover)="myFunction()" (click)='copyClipboard("copyapilinkdev")'>
                    <span >{{environmnt.endpoint}}
                        <span class='relative'>
                                <img src="./../../../assets/images/icons/icon-link.png"/>
                                <div class="tooltip-content" >
                                        <span id="copyPopup">{{copylinkmsg}}</span>
                                </div> 
                        </span>

                    </span>
                   
                    <textarea id="copyapilinkdev">{{environmnt.endpoint}}</textarea>
                </div>
                
            </div>
            
        </li>

    </ul>
     <div class='api-btn-wrp'>
            
    </div>
</div>

<div class="service-details row relative">
    <div *ngIf='envResponseTrue'>
        <div  class='edit-service-overview-btn'>
            
            <!-- <btn-tmobile-secondary class='btn-edit-overview' *ngIf='showCancel'  text='CANCEL' (click)='onCancelClick()' ></btn-tmobile-secondary> -->
            <a  *ngIf='showCancel'  (click)='onCancelClick()'>CANCEL</a>
            <btn-tmobile-secondary [disablebtn]='(status_val > 2) || branchname == "master"' class='btn-edit-overview'  *ngIf="editBtn" text='EDIT' [ngClass]="service.status === 'creation started' ? 'non-clickable':''" (click)='onEditClick()' [disablebtn]='disableEditBtn()'></btn-tmobile-secondary>
            <btn-tmobile-secondary  class='btn-edit-overview' *ngIf='saveBtn' text='SAVE' [ngClass]="service.status === 'creation started' ? 'non-clickable':''" (click)='onSaveClick()' [disablebtn]='disableEditBtn()'></btn-tmobile-secondary>

            <!-- [style.borders]="edit_save=='SAVE'? 'none':'1px solid'"  -->
        </div><br>
        <div class='overview-view' *ngIf="editBtn">
            <ul class="section-left col-md-6 col-sm-12">

                <li>
                    <div class="det-label">Deployment status</div>
                    <div class="det-value " >{{envstatus}}</div>
                </li>
                
                <li>
                    <div class="det-label">Description</div>
                    <div class="det-value desc" >{{services.description || 'Give me the details for your services'}}</div>
                </li>
                
                
                <li>
                    <div class="det-label">Last Updated</div>
                    <div class="det-value" *ngIf="dayscommit" >{{commitDiff}} days ago</div>
                    <div class="det-value" *ngIf="hourscommit" >{{commitDiff}} hours ago</div>
                    <div class="det-value" *ngIf="mincommit" >{{commitDiff}} minutes ago</div>
                    <div class="det-value" *ngIf="seccommit" >{{commitDiff}}</div>
                </li>
                <li>
    
                    <div class="det-label">Accounts</div>
                    <div class="det-value">
                        <!-- {{service.accounts}} -->
                        tmo-dev-ops, tmo-int
                    </div>
                </li>
                <li>
                    <div class="det-label">Endpoints</div>
                    <div class="det-value ">{{endpList[0].name}} , {{endpList[0].type}} : <img class='copy-arn' src="./../../../assets/images/icons/icon-link.png"/> <span class='view-all' (click)='openSidebar()'> View all</span> </div> 
                </li>
        
            </ul>

            
                
            <ul class="section-right col-md-6 col-sm-12">      
            
             
                <li>
                        <div class="det-label">Branch Name</div>
                        <div class="det-value">{{branchname}}</div>
                </li>
                <li>
                        <div class="det-label">Friendly Name</div>
                        <div class="det-value">{{friendlyName || "NA"}}</div>
                </li>
                <li>
                    <div class="det-label">Tags</div>
                    <div class="det-value" >{{services.tags || 'Services are cooler with tags'}}</div>
                </li>
                <li>
                    <div class="det-label">Regions</div>
                    <div class="det-value">
                        <!-- {{service.regions}} -->
                        us-west-2, us-east
                    </div>
                </li>
            </ul>
        </div>
        <div class='overiew-edit' *ngIf="!editBtn">
            <ul class="section-left col-md-6 col-sm-12">

                <li>
                    <div class="det-label">Deployment status</div>
                    <div class="det-value " >{{envstatus}}</div>
                </li>
                
                <li>
                    <div class="det-label">Description</div>
                    <div class="det-value desc" >{{services.description || 'Give me the details for your services'}}</div>

                </li>
                
                
                <li>
                    <div class="det-label">Last Updated</div>
                    <div class="det-value" *ngIf="dayscommit" >{{commitDiff}} days ago</div>
                    <div class="det-value" *ngIf="hourscommit" >{{commitDiff}} hours ago</div>
                    <div class="det-value" *ngIf="mincommit" >{{commitDiff}} minutes ago</div>
                    <div class="det-value" *ngIf="seccommit" >{{commitDiff}}</div>
                </li>

                <li>
    
                    <div class="det-label">Accounts</div>
                    <div class="det-value">
                        <!-- {{service.accounts}} -->
                        tmo-dev-ops, tmo-int
                    </div>
                </li>
                <li>
                    <div class="det-label">Endpoints</div>
                    <div class="det-value ">{{endpList[0].name}} , {{endpList[0].type}} : <img class='copy-arn' src="./../../../assets/images/icons/icon-link.png"/> <span class='view-all' (click)='openSidebar()'> View all</span> </div> 
                </li>
    
            
            
            </ul>
            
            <ul class="section-right col-md-6 col-sm-12">      
            
               
                <li>
                        <div class="det-label">Branch Name</div>
                        <div class="det-value">{{branchname}}</div>
                </li>
                <li>
                        <div class="det-label">Friendly Name</div>
                        <input (ngModelChange)="friendlyChanged = true" maxlength="20" type='text'[(ngModel)]="tempFriendlyName" class="det-value-input" >
                </li>
                <li>
                    <div class="det-label">Tags</div>
                    <div class="det-value" >{{services.tags || 'Services are cooler with tags'}}</div>
                </li>
                <li>
                    <div class="det-label">Regions</div>
                    <div class="det-value">
                        <!-- {{service.regions}} -->
                        us-west-2, us-east
                    </div>
                </li>
            </ul>
        </div> 
        
    </div>

    <div *ngIf="envResponseError">
        <div class="empty-row with-refresh">
                <div class="icon-icon-server-error">
                        <span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span><span class="path6"></span><span class="path7"></span><span class="path8"></span><span class="path9"></span><span class="path10"></span>
                    </div>
            <div class='oops'>Oops!</div>
            <div>Something went wrong while fetching your data<br><a (click)="refreshCostData($event)">REFRESH</a> to give it another try.</div>
            <br><div class='ctc-us'>If the problem persists, <a (click)='reportIssue()'> contact us</a>.</div>
        </div>
    </div>

    <div class="empty-row" *ngIf="envResponseEmpty">
            <div class="icon-icon-nodata"></div>
        <div><b>Oops, No Data Found</b><br>Doesn't look like there is any data available here.</div> 
    </div>

    <div class="loading-row" [class.show]="isLoading">
        <div class="loading-circle"></div>
    </div>
</div>

          
<div class="separator-row"></div>
<div class="disclaimer-static-data"><i>This data is for representational purpose only and may not be accurate</i></div>
            
<div class="service-overview-wrp">
    <div class="stage-wrp left-item" >
        <div class="stage-title">Code Quality</div>
        <div class="stage-overview">
                <ul class="service-overview">
                        <li class="overview-item">
                            <div class="overview-value">
                                <div class='gradeA' title='Grade A'>-</div>
                            </div>
                            <div class="overview-label">Reliability</div>
                        </li>
                        <li class="overview-item" >
                            <div class="overview-value">
                                    <div class='gradeC' title='Grade C'>-</div>
                            </div>
                            <div class="overview-label">Security</div>
                        </li>
                        <li class="overview-item">
                            <div class="overview-value">
                                    <div class='gradeC' title='Grade C'>-</div>
                            </div>
                            <div class="overview-label">Maintainibility</div>
                        </li>
                    </ul>
                    <ul class="service-overview">
                        <li class="overview-item">
                            <div class="overview-value">
                                NA
                            </div>
                            <div class="overview-label ">Coverage</div>
                        </li>
                        <li class="overview-item">
                            <div class="overview-value">
                                NA
                            </div>
                            <div class="overview-label">
                                Duplications
                            </div>
                        </li>
                        <li class="overview-item">
                            <div class="overview-value javascript">
                                NA<span></span>
                            </div>
                            <div class="overview-label">
                                <span>JavaScript</span>
                            </div>
                        </li>
                    </ul>
            
        </div>
    </div>
    <div class="stage-wrp right-item" >
            <div class="stage-title">Deployments</div>
            <div class="stage-overview"> 
                    <ul class="service-overview">
                            <li class="overview-item">
                                <div class="overview-value">
                                    NA
                                </div>
                                <div class="overview-label"># of Deployments<br>(Last 24 hours)</div>
                                <!-- <div class="overview-label"></div> -->
                            </li>
                            <li class="overview-item" >
                                <div class="overview-value">
                                   NA
                                </div>
                                <div class="overview-label">Last Successful Deployment</div>
                            </li>
                            <li class="overview-item">
                                <div class="overview-value">
                                    NA
                                </div>
                                <div class="overview-label">Last Failed Deployment</div>
                            </li>
                        </ul>
                        <ul class="service-overview">
                            <li class="overview-item">
                                <div class="overview-value"></div>
                                <div class="overview-label"></div>
                            </li>
                            <li class="overview-item bottom-right">
                                <div class="overview-value">
                                    <!-- <img src='assets\images\icons\icon-good@2x.png' height='30px' title='Success' > -->
                                    NA
                                </div>
                                <div class="overview-label">
                                    Last Deployment Status
                                </div>
                
                            </li>
                            <li class="overview-item">
                                <div class="overview-value"></div>
                                <div class="overview-label">
                                    
                                </div>
                            </li>
                        </ul>
                
    
            </div>
        </div>
</div>
        