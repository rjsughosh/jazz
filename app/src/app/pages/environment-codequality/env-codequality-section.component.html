<div class='feedback-overlay cq' *ngIf="openModal">
  <div class='feedback-wrap relative'>
    <div class='feedback-hdr relative'>Report an issue</div>
    <div class="separator-row"></div>
    <div class="loading-row" [class.show]="isLoading">
      <div class="loading-circle"></div>
    </div>
    <div class='feedback-text-wrap' [class.invisible]="isLoading || feedbackRes">
      <p>Found a problem with the site? Please use the form below to describe the issue and we will fix it soon.</p>
      <textarea rows="5" cols="50" type="text" name='userFeedback' id="userFeedback"
                placeholder="Report your issue here" [(ngModel)]="model.userFeedback"
                #userFeedback='ngModel'></textarea>
    </div>
    <div class="feedback-text-wrap feedbackRes" [class.show]="feedbackRes">
      <div class="hide feedbackResSuccess" [class.show]="feedbackResSuccess">
        <div>{{feedbackMsg}}</div>
      </div>
      <div class="hide feedbackResErr" [class.show]="feedbackResErr"> Oops! {{feedbackMsg}}
        <span> or <a (click)="mailTo()"> contact us</a> via email.</span>
      </div>
    </div>
    <div class='feedback-btn-wrap'>
      <div class="slack-checkbox custom-cb includeError" [class.invisible]="isLoading || feedbackRes">
        <input type="checkbox" (click)="errorIncluded()" id="checkbox-slack" [checked]="errorInclude">
        <label for="checkbox-slack"></label>
        <div class="cb-status-dets">Include error details</div>
      </div>
      <a (click)='openModal = !openModal;isLoading=false' [class.invisible]="isLoading || feedbackRes">CANCEL</a>
      <btn-jazz-primary text="{{buttonText}}" class="feedback-submit" [class.invisible]="isLoading"
                        [disablePrimaryBtn]="!model.userFeedback && buttonText=='SUBMIT'"
                        (click)='submitFeedback(buttonText)'></btn-jazz-primary>
    </div>
  </div>
</div>
<div class="section" [ngSwitch]="sectionStatus">
  <div *ngSwitchCase="'loading'" class="loading-row">
    <div class="loading-circle"></div>
  </div>
  <div *ngSwitchCase="'error'" class="error-blk">
    <div class="empty-row with-refresh">
      <div class="icon-icon-server-error">
        <span class="path1"></span><span class="path2"></span><span class="path3"></span><span
        class="path4"></span><span
        class="path5"></span><span class="path6"></span><span class="path7"></span><span class="path8"></span><span
        class="path9"></span><span class="path10"></span>
      </div>
      <div class='oops'>Oops!</div>
      <div>Something went wrong while fetching your data<br><a (click)="refreshCostData($event)">REFRESH</a> to give
        it another try.
      </div>
      <br>
      <div class='ctc-us'>If the problem persists, <a (click)='reportIssue()'> contact us</a>.</div>
    </div>
  </div>
  <div *ngSwitchCase="'empty'" class="empty-row nodata with-refresh relative">
    <div class="icon-icon-nodata"></div>
    <div><b>Oops, No Data Found</b><br>Doesn't look like there is any data available here.</div>
  </div>
  <div *ngSwitchCase="'resolved'" class="section-content">
    <!--<div class="filters">-->
    <!--</div>-->
    <!--<div class="chart-header">-->
    <!--<p class="graphtitle">{{graphname}}</p>-->
    <!--<p class="graphtitlefilter">( {{filtertext}} )</p>-->
    <!--</div>-->
    <!--<div class="sonar-link" (click)="sonarProjectLink(sonar)">-->
    <!--More Details-->
    <!--</div>-->
    <div class="chart-header">
      <div>
        <span class="graphtitle">{{selectedMetric.name}}</span>
        <span class="graphtitlefilter">{{filterData.headerMessage}}</span>
      </div>

      <filters class="chart-filters"
               [filtersList]="filtersList"
               (onSelected)="onFilterSelected($event)"
               [multiple]='false'
               [selectedList]="selected"></filters>
    </div>

    <div class="chart-content">
      <chartjs-linegraph
        [datasets]="graph.datasets"
        [graphOptions]="graph.options"></chartjs-linegraph>
    </div>
    <div class='metrics-cards-wrap relative'>
      <div class='left-arrow' (click)='leftArrowClick()' *ngIf='cqList.length && minCards'>
        <div class='icon-icon-rightArrow'></div>
      </div>
      <div class='right-arrow' (click)='rightArrowClick()' *ngIf='cqList.length && maxCards'>
        <div class='icon-icon-rightArrow '></div>
      </div>
      <div class='scroll-cards-wrap' [style.transform]="'translateX('+safeTransformX+'px)'">
        <div class='metrics-card' *ngFor="let metric of metrics; let i=index" [class.arrow_box]='metricsIndex==i'
             [class.active]='metricsIndex===i' (click)="selectMetric(i)">
          <div class='metrics-name'>{{metric.name}}</div>
          <div class='metrics-data'>{{'value'}}</div>
          <div class='metrics-date'>{{'date'}}</div>
          <div class='metrics-name hide'>{{'link'}}</div>
        </div>
      </div>
    </div>
  </div>

</div>


